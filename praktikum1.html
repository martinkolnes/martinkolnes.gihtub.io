<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Martin Kolnes, Karin Täht" />


<title></title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<div class="container-fluid main-container">

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->



<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Kodu</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Praktikumide materjalid
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="praktikum1.html">1. Praktikum - sissejuhatus</a>
    </li>
    <li>
      <a href="praktikum2.html">2. Praktikum - joonised</a>
    </li>
    <li>
      <a href="praktikum3.html">3. Praktikum - ANOVA</a>
    </li>
    <li>
      <a href="praktikum4v2.html">4. Praktikum - regressioon</a>
    </li>
    <li>
      <a href="praktikum5.html">5. Praktikum - logistiline regressioon</a>
    </li>
    <li>
      <a href="praktikum6.html">6. Praktikum - eksploratiivne faktoranaluus</a>
    </li>
    <li>
      <a href="praktikum7.html">7. Praktikum - Struktuurvorrandite mudelid</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Lisamaterjalid
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="lisa_andmente_importimine.html">Andmete importimine</a>
    </li>
    <li>
      <a href="praktikum1_korrelatsioon.html">Korrelatsioon</a>
    </li>
    <li>
      <a href="praktikum1_subsetting.html">Andmete eraldamine</a>
    </li>
    <li>
      <a href="praktikum2_ttestid.html">Keskmiste vordlemine</a>
    </li>
    <li>
      <a href="lisa_joonis.html">Joonis - keskmised</a>
    </li>
  </ul>
</li>
<li>
  <a href="lugemist.html">Soovitused</a>
</li>
<li>
  <a href="about.html">Kontakt</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore"><ol style="list-style-type: decimal">
<li>praktikum: RStudio kasutamine, andmetega manipuleerimine, kirjeldav statistika</li>
</ol></h1>
<h4 class="author"><em>Martin Kolnes, Karin Täht</em></h4>

</div>


<script src="hideOutput.js"></script>
<div id="praktikumi-eesmargid" class="section level1">
<h1>Praktikumi eesmärgid</h1>
<ul>
<li>RStudio tutvumine<br />
</li>
<li>Andmetega manipuleerimine<br />
</li>
<li>Üldine kirjeldav statistika: keskmine, mediaan, standardhälve</li>
</ul>
<p>Laadige alla <a href="https://drive.google.com/open?id=1oOK59Dp1jMNUKzuGvKb1OxnePYFx0PPr">praktikumi andmed</a>.</p>
</div>
<div id="rstudio-paigaldamine" class="section level1">
<h1>RStudio paigaldamine</h1>
<p>Arvutiklassi arvutites on vajalikud programmid juba olemas, aga kui on soovi paigaldada RStudio ka enda arvutisse, siis kasutage järgnevaid linke:</p>
<ul>
<li>programmeerimiskeel R - <a href="http://ftp.eenet.ee/pub/cran" class="uri">http://ftp.eenet.ee/pub/cran</a><br />
</li>
<li>RStudio - <a href="http://www.rstudio.com/products/rstudio/download" class="uri">http://www.rstudio.com/products/rstudio/download</a></li>
</ul>
</div>
<div id="rstudio-kasutamine" class="section level1">
<h1>1. RStudio kasutamine</h1>
<p>Käivitame RStudio. Avanema peaks allolev pilt.</p>
<div class="figure">
<img src="KMKT/1praktikum/rstudio1.png" alt="Joonis 1. RStudio ülevaade" />
<p class="caption">Joonis 1. RStudio ülevaade</p>
</div>
<p>Avame andmefaili “1praktikumAndmed.RData” kasutades ülaloleval joonisel osutatud nuppu või RStudio aknas paremal allosas paiknevat paneeli <em>Files</em>. Soovitan avada ka tühi koodifail (RScript), valides RStudio menüüribalt <em>File</em> -&gt; <em>New File</em> -&gt; <em>R Script</em>. Koodifaili saate salvestada enda kirjutatud andmeanalüüsi.</p>
<p>Nüüd peaks meil RStudios olema lahti neli akent. Erinevate akende funktsioonid on toodud allpool. <img src="KMKT/1praktikum/rstudio2.png" alt="Joonis 2. RStudio erinevad aknad" /></p>
<p><strong>Üleval vasakul</strong> olevasse aknasse kirjutame koodi, mille abil ütleme R-ile, mida andmetega teha. Kuidas käib koodi saatmine R-ile? Kui soovime saata ainult ühte rida korraga, siis tuleb viia kursor sellel koodireal ja seejärel vajutada koodiredaktori paneeli paremal ülaosas paiknevat nuppu <em>Run</em>. Nupu asemel võib kasutada ka klahvikombinatsiooni <em>Ctrl + Enter</em> (Maci arvutitel <em>Cmd + Enter</em>). Kui soovime saata mitut koodirida korraga, siis tuleb need koodiredaktoris valida (st teha hiirega siniseks) ja seejärel vajutada <em>Run</em>-nuppu või klahvikombinatsiooni.</p>
<p><strong>All vasakul</strong> on konsool (<em>Console</em>). Seal asubki arvutusi teostav R ise. Kui laseme R-il midagi arvutada, siis ilmuvad tulemused nähtavale just selles osas. Koodi võib põhimõtteliselt kirjutada ka otse siia, aga enamasti on mugavam kirjutada kood koodifaili. Nii on lihtsam koodi parandusi teha ja koodi korduvkasutada.</p>
<p><strong>All paremal</strong> asub 5 erinevat paneeli:</p>
<ul>
<li><em>Files</em>: R-i koodi- ja andmefailide avamiseks.<br />
<strong>NB!</strong> Selles aknas saate sättida enda töökeskkonda. See annab R’ile teada, missuguse kaustaga parasjagu tööd tehakse. Kausta otsimiseks vajutage sümbolile “…”, seejärel otsige üles sobiv kaust ja vajutage “OK”. Seejärel vajutage nupule <em>More</em> ja valige <em>Set As Working Directory</em>. Soovitatav on kasutada töökeskkonnana kausta, kus on teie analüüsitavad andmed.<br />
</li>
<li><em>Plots</em>: siia kuvatakse tehtud joonised.<br />
</li>
<li><em>Packages</em>: selle osa abil saab installeerida ja laadida lisamooduleid, mis lisavad R-ile täiendavat funktsionaalsust. Lisamoodulid tuleb kõigepealt arvutisse installeerida. Vajutage nuppu <em>Install</em> ja kirjutage avenanud aknasse soovitud lisamooduli nimi. Mooduli funktsioonide kasutamiseks tuleb vastav moodul R-is aktiveerida. Aktiveerimseks tuleb moodul <em>Packages</em>-paneeli nimekirjast üles otsida ja selle nime eesasuvasse kasti linnukene teha. Lisamooduleid saab installida ja laadida ka R-i koodi abil: <em>install.packages(“lisamooduli nimi”)</em> ja <em>library(“lisamooduli nimi”)</em>.<br />
</li>
<li><em>Help</em>: Abiinfo R-i funktsioonide kohta. Siin paneelis saate otsida R-is olevate funktsioonide kohta informatsiooni.<br />
</li>
<li><em>Viewer</em>: Selle osa abil saab teha keerulisemat tüüpi andmevisualisatsioone, millel on lisaks joonisele ka kontrollelemendid, mis võimaldavad joonise parameetreid muuta. Seda osa me antud kursusel ei kasuta.</li>
</ul>
<p><strong>Üleval paremal</strong> asub 2 paneeli:</p>
<ul>
<li><em>Environment</em>: selles osas näidatakse kasutusel olevaid andmeid.<br />
</li>
<li><em>History</em>: R-i konsoolile saadetud käskude ülevaade.<br />
Natuke lähemalt <em>Environment</em> paneelist. Kui avasite alguses andmefaili “1praktikumiAndmed.RData”, siis peaks paneel välja nägema nagu alloleval pildil (Joonis 3). Objekt nimega “tabel” viitab konkreetse andmetabeli nimele. 200 <em>obs</em> of 10 <em>variables</em> näitab, et andmetabelis on 200 rida ja 10 tulpa. Erinevalt näiteks SPSS-ist võivad R-i andmefailid sisaldada rohkem kui ühte andmetabelit (ja lisaks andmetabelitele ka teistsuguseid andmestruktuure). Igal andmetabelil on oma nimi ja andmestikus olevad andmed saamegi hiljem kätte selle nime abil.</li>
</ul>
<div class="figure">
<img src="KMKT/1praktikum/rstudio3.png" alt="Joonis 3. RStudio Global Environment" />
<p class="caption">Joonis 3. RStudio Global Environment</p>
</div>
<p>Klõpsates andmestiku nime ees oleval sinisel nupul peaks avanema allolev pilt (Joonis 4).</p>
<div class="figure">
<img src="KMKT/1praktikum/rstudio4.png" alt="Joonis 4. RStudio ülevaade" />
<p class="caption">Joonis 4. RStudio ülevaade</p>
</div>
<p>Meile näidatakse tabelis olevate veergude nimesid, andmetüüpe ja esimesi andmepunkte. Esimene veerg/muutuja kannab nime “vanus”. Andmetüüp on <em>int</em> , mis tuleb inglisekeelsest sõnast <em>integer</em> ehk täisarv, st. tegemist on veeruga, milles sisalduvad andmed on täisarvud. (Teine R-is levinud numbriliste andmete tüüp on <em>num</em> ehk <em>numeric</em>, mis võib sisaldada ka komakohaga arve.) Teine veerg kannab nime “elukoht” ja selle tüübiks on märgitud <em>Factor</em> w/ 2 levels „maa“ , „linn“. <em>Factor</em> tähistab R-i kontekstis kategooriaid sisaldavat muutujat. Antud juhul on neid kategooriaid 2 tükki: „maa“ ja „linn“. Kõik ülejäänud tabelis olevad muutujad on täisarvulised (<em>int</em>).</p>
</div>
<div id="r-i-suntaks" class="section level1">
<h1>2. R-i süntaks</h1>
<p>Enne andmete juurde asumist teeme väikse kõrvalpõike R-i süntaksiga tutvumiseks. Nagu juba eelnevalt mainisin, siis üldiselt on kasulik kirjutada koodi koodifaili (<em>Rscript</em>). Selle saate salvestada enda arvutisse ja avada järgmisel kasutamisel uuesti. Konsoolile kirjutatud koodiread lähevad pärast R-i sulgemist kaduma.<br />
Paar nõuannet ka koodi kirjutamise kohta. Esiteks, R-i koodi kirjutamisel te ei pea jätma koodi tühikuid. Koodi loetavuse mõttes on see siiski soovitatav. Teiseks, punkte ja komasid kasutatakse R-is erinevatel juhtudel. Punkte kasutatakse andmete puhul. Komasid kasutatakse aga erinevate elementide eristamiseks (näiteks <span class="math inline">\(5.12\)</span> on üks number, aga <span class="math inline">\(5,12\)</span> on kaks numbrit).</p>
<div id="aritmeetika" class="section level2">
<h2>Aritmeetika</h2>
<p>R-i võib kasutada tavalise kalkulaatorina. Proovige teha järgnevaid tehteid R-i konsoolil.</p>
<ul>
<li>liitmine: 2 + 2</li>
<li>lahutamine: 4 - 5</li>
<li>korrutamine: 5 * 7<br />
</li>
<li>jagamine: 21 / 3</li>
<li>astmesse tõstmine: 2^4</li>
</ul>
</div>
<div id="muutujate-loomine" class="section level2">
<h2>Muutujate loomine</h2>
<p>Vahepeal on vajalik luua andmetöötluse käigus uus muutuja, kuhu on salvestatud mingi oluline väärtus. Uue muutuja loomaikseks kasutatakse kas noolt “&lt;-” või tavalist võrdusmärki “=”. Muutujate nimede puhul ei luba R tühikuid kasutada. Seega on pikema nime puhul hea kasutada punkti (“uus.muutuja”), alakriipsu (“uus_muutuja”) või suurtähti (“uusMuutuja”).</p>
<pre class="r"><code># Need kaks väärtustamist annavad sama tulemuse
uus_muutuja &lt;- 2
uus_muutuja = 2</code></pre>
<p>Töökeskonnas olevate muutujatega saate teha ka tavalisi artimeetilisi tehteid.</p>
<pre class="r"><code>uus_muutuja * 4</code></pre>
<pre><code>## [1] 8</code></pre>
</div>
<div id="andmetuubid-ja-vektorid" class="section level2">
<h2>Andmetüübid ja vektorid</h2>
<p>Põhilised andmetüübid, millega kursuse jooksul kokku puutume:</p>
<ul>
<li>numbrilised (<em>numeric, integer</em>): 2.2, 3<br />
</li>
<li>sõned (<em>character</em>): “hello”<br />
</li>
<li>tõeväärtused: <em>TRUE</em>, <em>FALSE</em></li>
</ul>
<p>Miks on need olulised? Kõik andmestikud koosnevad nendest andmetüüpidest. Andmestiku ühte veergu võib käsitleda vektorina, mis koosneb teatud tüüpi elementidest. Vaatame kõigepealt, kuidas R-is saab vektoreid luua. Vektorid (erinevalt listidest) võivad sisaldada ainult ühte tüüpi elemente.</p>
<pre class="r"><code># Numbriline vektor
num_vektor &lt;- c(3,1,2)
# Sõnedega vektor
s_vektor &lt;- c(&quot;SPSS&quot;, &quot;R&quot;, &quot;Matlab&quot;)
# Tõeväärtustega vektor
t_vektor &lt;- c(FALSE, TRUE, FALSE)</code></pre>
<p>Objekti tüübi kontrollimiseks saame kasutada funktsiooni nimega <em>class</em>.</p>
<pre class="r"><code>class(num_vektor)</code></pre>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
</div>
<div id="tehted-vektoritega" class="section level2">
<h2>Tehted vektoritega</h2>
<p>Kõik arvutused, mis me R-is teeme on seotud vektoritega. Kirjeldava statistika puhul võetakse sageli üks andmeveerg (ehk vektor andmetega) ja vaadatakse selle näitajaid.</p>
<pre class="r"><code># Teeme kaks vektorit:
v1 &lt;- c(1,4,6,7,3)
v2 &lt;- c(1:5) # koolon näitab, et teeme vektori 1-st kuni 5-ni

# Liitmine
v1 + v2

# Korrutamine
v1 * v2

# Vektori keskmine
mean(v1)

# Vektori andmete summa
sum(v1)

# Vektori mediaan
median(v1)</code></pre>
</div>
<div id="andmete-eraldamine-vektorist" class="section level2">
<h2>Andmete eraldamine vektorist</h2>
<p>R-i üks peamisi tugevusi peitub andmete manipuleerimises. Andmete eraldamiseks saab kasutada indekseid või loogikaavaldisi. Indeksiga võtame konkreetse koha, mis meid huvitab. Loogikaavaldisega saame valida väärtused, mis vastavad meie poolt määratud reeglile.</p>
<pre class="r"><code># Loome vektori
v3 &lt;- seq(1,10,0.5) #teeme vektori 1-st kuni 10-ni sammuga 0,5

# Eraldame esimese elemendi
v3[1]

# Eraldame kolmanda, neljanda ja viienda elemendi:
v3[3:5]

# Eraldame elemendid, mis on suuremad kui 7
v3[v3 &gt; 7]</code></pre>
</div>
<div id="ulesanded---r-i-suntaks" class="section level2">
<h2>Ülesanded - R-i süntaks</h2>
<ol style="list-style-type: decimal">
<li>Tehke kaks erinevat vektorit, kus on vähemalt 10 numbrilist elementi.</li>
</ol>
<pre class="r"><code>vektor1 &lt;- c(5,6,2,7,2,8,11,4,9,12)
vektor2 &lt;- c(3,11,10,2,4,6,3,6,9,4)      </code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Arvutage nende vektori aritmeetiline keskmine ja mediaan.</li>
</ol>
<pre class="r"><code>mean(vektor1)</code></pre>
<pre><code>## [1] 6.6</code></pre>
<pre class="r"><code>median(vektor1)</code></pre>
<pre><code>## [1] 6.5</code></pre>
<pre class="r"><code>mean(vektor2)</code></pre>
<pre><code>## [1] 5.8</code></pre>
<pre class="r"><code>median(vektor2)</code></pre>
<pre><code>## [1] 5</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Liitke need vektorid ja salvestage tulemus uude muutujasse. Arvutage uue muutuja keskmine, mediaan ja summa.</li>
</ol>
<pre class="r"><code>vektor3 &lt;- vektor1 + vektor2
mean(vektor3)</code></pre>
<pre><code>## [1] 12.4</code></pre>
<pre class="r"><code>median(vektor3)</code></pre>
<pre><code>## [1] 13</code></pre>
<pre class="r"><code>sum(vektor3)</code></pre>
<pre><code>## [1] 124</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>Eraldage eelmises ülesandes loodud muutujast väärtused, mis on suuremad kui selle muutuja aritmeetiline keskmine.</li>
</ol>
<pre class="r"><code>vektor3[vektor3 &gt; mean(vektor3)]</code></pre>
<pre><code>## [1] 17 14 14 18 16</code></pre>
</div>
</div>
<div id="andmetega-manipuleerimine" class="section level1">
<h1>3. Andmetega manipuleerimine</h1>
<p>Enne alustamist veenduge, et Teil oleks RStudio töökeskkonnas (<em>Global Environment</em>) andmestik nimega “tabel” (Joonis 3.).</p>
<p>Tehke esialgu läbi järgnevad ülesanded:</p>
<div id="ulesanded---andmestikuga-tutvumine" class="section level2">
<h2>Ülesanded - andmestikuga tutvumine</h2>
<ol style="list-style-type: decimal">
<li>Kui palju muutujaid on andmestikus? Mis on nende muutujate nimed?<br />
</li>
<li>Kasutage funktsiooni <em>head()</em>, argumendiks pange andmestiku nimi. Mida see funktsioon näitab?<br />
</li>
<li>Kasutage funktsiooni <em>tail()</em>, argumendiks pange andmestiku nimi. Mida see funktsioon näitab?<br />
</li>
<li>Kasutage funktsiooni <em>str()</em>, argumendiks pange andmestiku nimi. Mida see funktsioon näitab?</li>
</ol>
<p>R’i võimaldab andmeid kiirelt kohandada vastavalt enda vajadustele. Esialgu peame õppima konkreetsete andmete eraldamise suuremast andmestikust.<br />
Siin tutvustame kolme võimalust:</p>
<ul>
<li>Dollari märgi abil viitamine<br />
</li>
<li>Nurgeliste sulgude kasutamine - R’is annavad nurgelised sulud märku, et mingist objektist/andmestikust tahetakse mingit konkreetset muutujat kätte saada.<br />
</li>
<li>Funktsioon <em>subset</em> - see funktsioon võimaldab teha sama, mida nurgelised sulud.</li>
</ul>
</div>
<div id="veergude-eraldamine" class="section level2">
<h2>Veergude eraldamine</h2>
<p>Dollari märgi abil (peame teadma veeru nime):</p>
<pre class="r"><code>tabel$vanus # võtab andmestikus veeru nimega &quot;vanus&quot;</code></pre>
<pre><code>##   [1] 42 52 26 27 18 46 28 60 23 51 51 66 41 18 18 23 64 36 59 25 44 36 53
##  [24] 48 42 27 50 37 64 42 47 34 55 21 48 49 43 45 51 52 34 42 65 18 38 48
##  [47] 48 41 51 46 37 46 65 32 60 43 31 60 55 61 24 30 64 58 32 50 62 24 23
##  [70] 56 37 36 38 62 32 34 69 20 52 69 47 30 44 69 28 57 24 20 19 60 33 50
##  [93] 39 26 59 57 24 57 62 51 23 42 62 28 24 49 22 69 37 42 51 18 39 52 65
## [116] 49 46 39 30 22 69 41 26 49 42 29 65 51 63 59 58 37 51 51 26 48 26 61
## [139] 50 52 46 34 26 54 35 25 41 36 42 34 24 20 29 23 65 36 34 59 35 35 35
## [162] 49 59 54 25 50 37 58 31 69 49 70 56 64 29 67 58 56 42 47 68 40 33 47
## [185] 59 69 31 31 50 66 63 47 41 65 51 53 70 19 63 60</code></pre>
<p>Nurgeliste sulgudega (peame teadma veeru asukohta andmestikus):</p>
<pre class="r"><code>#[rida, veerg]
tabel[,1] # võtab andmestikust esimese veeru</code></pre>
<p>Funktsiooniga <em>subset</em> (peame teadma veeru nime):</p>
<pre class="r"><code>subset(tabel, select = vanus) # võtab andmestikust veeru nimega vanus  
subset(tabel, select = c(vanus, elukoht)) # kaks veergu. NB! lisasime c() - see näitab, et anname argumendiks vektori. </code></pre>
<p>Kuidas eemaldada veerge?<br />
Kasutage miinusmärki:</p>
<pre class="r"><code>subset(tabel, select = -c(vanus, elukoht)) # eemaldab veerud vanus ja elukoht
tabel[,1] # eemaldab esimese veeru
tabel[-1,] # eemaldab esimese rea</code></pre>
</div>
<div id="ridade-eraldamine" class="section level2">
<h2>Ridade eraldamine</h2>
<p>Järjekorra numbri abil saab ridasid samamoodi eraldada nagu veerge:</p>
<pre class="r"><code>tabel[1,] #esimene rida</code></pre>
<pre class="r"><code>tabel[1:5,] #esimesed viis rida</code></pre>
</div>
<div id="tingimuste-kasutamine" class="section level2">
<h2>Tingimuste kasutamine</h2>
<p>Kuidas valida ridu, mis vastavad teatud tingimustele? Proovime näiteks võtta andmestikust need read, kus vaadeldava isiku vanus on alla 30.</p>
<p>Nurgeliste sulgudega:</p>
<pre class="r"><code>tabel[tabel$vanus&lt;30,]</code></pre>
<p>Funktsiooniga <em>subset</em>:</p>
<pre class="r"><code>subset(tabel, vanus &lt; 30)</code></pre>
<p>Vahepeal on vaja võtta andmetest välja read, mis on sarnase väärtusega. Näiteks püüame eraldada andmetest kõik read, kus elukoha väärtus on “maa”. Saame kasutada juba tuttavat ridade ja veergude määratlust:</p>
<pre class="r"><code>tabel[tabel$elukoht == &quot;maa&quot;,] # võtab andmetest ainult need read, kus elukoht on võrdne väärtusega &quot;maa&quot;</code></pre>
<p>Samasuguse tulemuse saame ka funktsiooniga <em>subset</em></p>
<pre class="r"><code>subset(tabel, elukoht == &quot;maa&quot;)</code></pre>
</div>
<div id="ulesanded---andmetega-manipuleerimine" class="section level2">
<h2>Ülesanded - andmetega manipuleerimine</h2>
<ol style="list-style-type: decimal">
<li>Eraldage andmetest veerg “vanus”. Looge uus muutuja, kus on ainult see veerg.</li>
</ol>
<pre class="r"><code>vanus &lt;- tabel$vanus</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Tehke kaks uut andmestikku. Esimesse salvestage maal elavate katseisikute tulemused ja teise salvestage linnas elavate katseisikute tulemused.</li>
</ol>
<pre class="r"><code>tabel_maa &lt;- subset(tabel, elukoht == &quot;maa&quot;)
tabel_linn &lt;- subset(tabel, elukoht == &quot;linn&quot;)</code></pre>
</div>
</div>
<div id="kirjeldav-statistika" class="section level1">
<h1>4. Kirjeldav Statistika</h1>
<p>Nüüd, kui teame, kuidas anda R’ile edasi ainult üks muutuja andmestikust, proovime saada selgemat ülevaadet muutujast “vanus”.<br />
<strong>Keskmise</strong> vanuse saame, kui anname funktsioonile <em>mean</em> argumendiks vastava muutuja nime:</p>
<pre class="r"><code>mean(tabel$vanus)</code></pre>
<pre><code>## [1] 44.19</code></pre>
<p><strong>Mediaani</strong> saame funktsiooni <em>median</em> abil:</p>
<pre class="r"><code>median(tabel$vanus)</code></pre>
<pre><code>## [1] 46</code></pre>
<p><strong>Standardhälve</strong></p>
<pre class="r"><code>sd(tabel$vanus)</code></pre>
<pre><code>## [1] 14.61478</code></pre>
<p><strong>Miinimum</strong> ja <strong>maksimum</strong></p>
<pre class="r"><code>min(tabel$vanus)</code></pre>
<pre><code>## [1] 18</code></pre>
<pre class="r"><code>max(tabel$vanus)</code></pre>
<pre><code>## [1] 70</code></pre>
<p><strong>Puuduvad väärtused</strong><br />
Kui veerus esineb puuduvaid väärtusi, siis annab R meile statistiku väärtuseks samuti puuduva väärtuse ehk NA (<em>not available</em>):</p>
<pre class="r"><code>mean(tabel$sotsiaalsus)</code></pre>
<pre><code>## [1] NA</code></pre>
<p>Selleks, et puuduvad väärtused arvutustest välja jätta tuleb kirjeldava statistika funktsioonidele ette anda täiendav argument “na.rm=TRUE”.</p>
<pre class="r"><code>mean(tabel$sotsiaalsus, na.rm=TRUE)</code></pre>
<pre><code>## [1] 126.0201</code></pre>
<pre class="r"><code>median(tabel$sotsiaalsus, na.rm=TRUE)</code></pre>
<pre><code>## [1] 126</code></pre>
<p>Kategooriaid sisaldava tunnuse kirjeldamisel on abiks <strong>sagedustabel</strong>:</p>
<pre class="r"><code>table(tabel$elukoht)</code></pre>
<pre><code>## 
##  maa linn 
##   87  113</code></pre>
<p>Protsentuaalse jaotuse saame, kui lisame sagedustabeli ümber funktsiooni <em>prop.table</em>:</p>
<pre class="r"><code>prop.table(table(tabel$elukoht))</code></pre>
<pre><code>## 
##   maa  linn 
## 0.435 0.565</code></pre>
<div id="ulesanded---kirjeldav-statistika" class="section level2">
<h2>Ülesanded - kirjeldav statistika</h2>
<ol style="list-style-type: decimal">
<li><p>Leidke sotsiaalsuse, meelekindluse, ekstravertsuse, neurootilisuse ja avatuse keskmised tulemused.</p></li>
<li><p>Kasutage funktsiooni <em>summary()</em>. Andke argumendiks üks veerg. Andke argumendiks terve tabel. Mida see funktsioon väljastab?</p></li>
<li><p>Millises vahemikus varieeruvad ekstravertsuse skoorid?</p></li>
</ol>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
